<html lang="en">
<head>
    <meta charset="UTF-8">
                <link rel="stylesheet" href="Scooter styler.css">
  

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Scooter boy</title>
</head>
<body >
    <h1 id="TITLE"> Scooter</h1>
    <h2 id="welcome"></h2>

    <img src= "segway-ninebot-kickscooter-e2-pro-1.webp" alt="">
    <p>Här kan du hyra crazy scooters. Startvärdet är 15kr och 5kr per minut.</p>
       <p><button id="Hyrabutton">Hyr här</button>
        <p id="info"></p>
<footer>Gjord av Leo Tsoi</footer>
    <script>

        const params = new URLSearchParams(window.location.search);
const text = document.getElementById("welcome");
        let username = params.get('username');
        if(username){
            text.textContent = `Välkommen ${username}!`;
        }    
        let startvärde = 15;
        let Hyr = false;
        let tid = 0;
        let Tim = null;
        let Min = null; 
        

        const Hyra = document.getElementById('Hyrabutton')
           Hyra.addEventListener('click', function (event) {
        if(Hyr==false){
            Hyr = true;
            info.textContent ="";
            let Start = Date.now();
            let date = new Date(Start*1000);
            StartTID = (new Date()).toLocaleString();
           
            if (Min<10)
            Min="0"+Min;
            Hyra.innerText = "Avsluta hyrning";
            Timmer = setInterval(function (){
                    if(Hyr == true){
                    tid ++;}
                },60000);
            
        } else{
             Hyra.innerText = "Hyr här";   
             Hyr = false; 
            clearInterval(Timmer);
        
            //info.textContent = "Du hyrde vid tiden: " + StartTID +"  under: " + tid +" minuter. Summa: " +(startvärde+tid*5) +"kr" ;
            info.textContent = `Du hyrde vid tiden: ${StartTID}  under: ${tid} minuter. Summa: ${startvärde+tid*5} kr` ;
             tid=0;
            }});
            
            Hyrabutton.onclick = function() {
                if(Hyr==true)
                {this.style.backgroundColor = 'red';}
                else 
                this.style.backgroundColor = '#52b96c';
    }
    </script>
</body>
</html>